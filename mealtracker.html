<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Magical Meal Tracker</title>
<style>
  /* ---------- THEME & LAYOUT ---------- */
  :root{
    --bg: linear-gradient(180deg,#f3f9ff 0%, #e8f5ff 40%, #f7fbff 100%);
    --accent: #88cfff; /* light blue theme */
    --accent-dark: #4aa3e6;
    --card: rgba(255,255,255,0.85);
    --glass: rgba(255,255,255,0.62);
    --muted: #6b7b8c;
    --glow: 0 10px 30px rgba(72,150,235,0.18);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  html,body{height:100%;margin:0;background:var(--bg);color:#123;}
  .wrap{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:clamp(18px, 3vw, 36px);
    gap:24px;
  }

  header{
    width:100%;
    max-width:1400px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
  }
  .brand{
    display:flex;gap:12px;align-items:center;
  }
  .logo {
    width:68px;height:68px;border-radius:16px;
    background:linear-gradient(135deg,#bfe9ff,#88cfff);
    display:flex;align-items:center;justify-content:center;box-shadow:var(--glow);
    border: 3px solid rgba(255,255,255,0.6);
  }
  .logo svg{width:46px;height:46px;filter:drop-shadow(0 4px 8px rgba(72,150,235,0.18));}
  h1{font-size:clamp(20px, 3vw, 32px); margin:0; letter-spacing:-0.02em;}
  .subtitle{font-size:clamp(12px,1.4vw,16px); color:var(--muted)}

  /* ---------- GRID ---------- */
  main{
    width:100%;
    max-width:1400px;
    display:grid;
    grid-template-columns: 1fr 420px;
    gap:28px;
    align-items:start;
  }

  /* left: tracker grid */
  .tracker{
    background:var(--card);
    border-radius:18px;
    padding:22px;
    box-shadow:var(--glow);
    position:relative;
    overflow:visible;
  }
  .meals-grid{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:18px;
  }
  @media (max-width:900px){
    main{grid-template-columns:1fr;}
    .meals-grid{grid-template-columns:1fr;}
  }

  /* ---------- MEAL CARD ---------- */
  .meal {
    background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.78));
    border-radius:14px;
    padding:14px;
    min-height:140px;
    box-shadow: 0 6px 18px rgba(47,85,120,0.06);
    position:relative;
    overflow:visible;
    border:1px solid rgba(255,255,255,0.6);
  }
  .meal h2{margin:0 0 8px 0; font-size:clamp(16px,2vw,20px); color:var(--accent-dark);}
  .controls{display:flex;gap:8px;align-items:center}
  .controls input{
    flex:1;padding:10px 12px;border-radius:10px;border:1px solid rgba(20,40,60,0.06);
    font-size:14px;background:rgba(255,255,255,0.85)
  }
  .controls button{
    padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(180deg,var(--accent),var(--accent-dark));
    color:white;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(72,150,235,0.18);
    transition:transform .12s ease;
  }
  .controls button:active{transform:translateY(2px) scale(.995);}

  .items{
    margin-top:12px;display:flex;flex-direction:column;gap:8px;max-height:170px;overflow:auto;padding-right:6px;
  }
  .item{
    display:flex;align-items:center;gap:10px;padding:8px;border-radius:10px;background:rgba(10,10,10,0.02);
    font-size:14px;justify-content:space-between;
  }
  .item .left{display:flex;align-items:center;gap:10px}
  .sticker{
    width:44px;height:44px;border-radius:8px;flex:0 0 44px;display:inline-flex;align-items:center;justify-content:center;
    background:linear-gradient(180deg,#fff,#fff);box-shadow:0 8px 18px rgba(0,0,0,0.06);
    border:1px solid rgba(0,0,0,0.04);
  }
  .item button{background:transparent;border:none;color:#c44;font-weight:700;cursor:pointer}

  /* ---------- RIGHT PANEL: DECOR + PREVIEW ---------- */
  .right{
    background: linear-gradient(180deg, rgba(255,255,255,0.94), rgba(255,255,255,0.86));
    border-radius:18px;padding:18px;box-shadow:var(--glow);
    min-height:320px;position:relative;
  }
  .decor{
    display:flex;flex-direction:column;align-items:center;gap:12px;
  }
  .butterfly-row{display:flex;gap:10px;align-items:center}
  .butterfly{
    width:68px;height:68px;transform-origin:center; animation:floaty 6s ease-in-out infinite;
  }
  @keyframes floaty{
    0%{transform:translateY(0) rotate(-3deg)}
    50%{transform:translateY(-10px) rotate(3deg)}
    100%{transform:translateY(0) rotate(-3deg)}
  }
  .sparkle-banner{
    width:100%;height:86px;border-radius:12px;background:linear-gradient(90deg,#eaf8ff,#f4fbff);
    display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;
  }
  /* moving glitter gradient */
  .glitter {
    position:absolute;inset:0;
    background:linear-gradient(120deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0.0) 100%);
    transform:skewX(-20deg);
    animation:glide 3.8s linear infinite;
    mix-blend-mode:overlay;
  }
  @keyframes glide{ from{left:-40%} to{left:120%} }

  .small-note{font-size:13px;color:var(--muted);text-align:center}

  /* ---------- CONFETTI CANVAS overlay ---------- */
  #confettiCanvas {
    position:fixed;left:0;top:0;width:100vw;height:100vh;pointer-events:none; z-index:9999;
  }

  /* scrollbar small */
  .items::-webkit-scrollbar{width:8px}
  .items::-webkit-scrollbar-thumb{background:linear-gradient(#bfe9ff,#88cfff);border-radius:8px}

  /* responsive big UI */
  .big-text{font-size:clamp(18px,2.6vw,28px)}
  .note-small{font-size:clamp(12px,1.6vw,14px)}
</style>
</head>
<body>
<div class="wrap">

  <header>
    <div class="brand">
      <div class="logo" aria-hidden>
        <!-- simple sparkly crescent + star as SVG logo -->
        <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0" stop-color="#fff"/>
              <stop offset="1" stop-color="#ffd6ff"/>
            </linearGradient>
          </defs>
          <path d="M40 20c-2.5 0-4.8.7-6.8 1.9 6.2 2.9 10.8 9.1 10.8 16.1 0 9.9-8.1 18-18 18-7 0-13.2-4.6-16.1-10.8C13.7 47.2 14 49.5 14 52c0 9.9 8.1 18 18 18s18-8.1 18-18c0-9.9-8.1-18-18-18z" fill="#ffffff" opacity="0.2"/>
          <circle cx="18" cy="14" r="3" fill="#fff"/>
        </svg>
      </div>
      <div>
        <h1 class="big-text">Magical Meal Tracker</h1>
        <div class="subtitle note-small">Breakfast • Lunch • Dinner • Snacks — sparkles and celebration included ✨</div>
      </div>
    </div>
    <div class="subtitle note-small">Light blue theme — responsive & animated</div>
  </header>

  <main>
    <!-- LEFT: Tracker -->
    <section class="tracker" aria-labelledby="trackerTitle">
      <h2 id="trackerTitle" class="big-text">Daily Meals</h2>
      <p class="note-small" style="margin:6px 0 14px 0;color:var(--muted)">Type what was eaten and press Add. Celebrate each saved item!</p>

      <div class="meals-grid" id="mealsGrid">
        <!-- Meal cards inserted here by JS for brevity -->
      </div>
    </section>

    <!-- RIGHT: decoration / stickers -->
    <aside class="right" aria-hidden>
      <div class="decor">
        <div class="sparkle-banner">
          <div style="z-index:2;">
            <strong style="font-size:18px;color:var(--accent-dark)">Today's Magic</strong>
            <div class="small-note">Click Add to see sparkles ✨</div>
          </div>
          <div class="glitter" aria-hidden></div>
        </div>

        <div class="butterfly-row">
          <!-- small butterflies as SVG stickers -->
          <svg class="butterfly" viewBox="0 0 64 64"><path d="M10 32c8 0 12-8 12-8s4 8 12 8-12 12-12 12S18 32 10 32z" fill="#ffd6e6" opacity="0.95"/><path d="M54 32c-8 0-12-8-12-8s-4 8-12 8 12 12 12 12 6-12 12-12z" fill="#d6f1ff" opacity="0.95"/></svg>
          <svg class="butterfly" viewBox="0 0 64 64"><path d="M10 32c8 0 12-8 12-8s4 8 12 8-12 12-12 12S18 32 10 32z" fill="#e9f7ff"/><path d="M54 32c-8 0-12-8-12-8s-4 8-12 8 12 12 12 12 6-12 12-12z" fill="#fff1ff"/></svg>
        </div>

        <div style="display:flex;gap:10px;align-items:center">
          <!-- placeholder sticker previews -->
          <div style="width:78px;height:78px;border-radius:12px;background:linear-gradient(#fff,#f4fbff);display:flex;align-items:center;justify-content:center;box-shadow:var(--glow)">
            <!-- Replace with <img src="sticker1.png"> to customize -->
            <svg width="48" height="48" viewBox="0 0 24 24"><path d="M12 2l1.9 4.5L19 8l-3.5 2.7L16 16l-4-2-4 2 0.5-5.3L3 8l5.1-1.5z" fill="#88cfff"/></svg>
          </div>
          <div style="flex:1">
            <div style="font-weight:700">Stickers & Glitter</div>
            <div class="small-note">Swap the stickers with your own images — they will appear in saved items.</div>
          </div>
        </div>
      </div>
    </aside>
  </main>
</div>

<!-- confetti canvas -->
<canvas id="confettiCanvas"></canvas>

<!-- pop sound (tiny click) embedded as base64 -->
<audio id="popSound">
  <source src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAA..." type="audio/mpeg">
  <!-- NOTE: replace base64 blob with a nicer sound if you have one -->
</audio>

<script>
/* ---------- JavaScript: create UI and interactions ---------- */

/* Small helper to create meal cards dynamically so code is compact */
const MEALS = [
  { key:'breakfast', label:'Breakfast', stickerColor:'#ffd6d3' },
  { key:'lunch',     label:'Lunch', stickerColor:'#dff0ff' },
  { key:'dinner',    label:'Dinner', stickerColor:'#fff1d6' },
  { key:'snacks',    label:'Snacks', stickerColor:'#e9f9e6' }
];

const mealsGrid = document.getElementById('mealsGrid');
const popSound = document.getElementById('popSound');

/* create card DOM for each meal */
MEALS.forEach(m => {
  const card = document.createElement('div');
  card.className = 'meal';
  card.innerHTML = `
    <h2>${m.label}</h2>
    <div class="controls">
      <input placeholder="What was eaten for ${m.label.toLowerCase()}..." aria-label="${m.label} input" />
      <button class="addBtn">Add</button>
    </div>
    <div class="items"></div>
  `;
  // decorate with small sticker icon top-right
  const sticker = document.createElement('div');
  sticker.style.position='absolute';
  sticker.style.right='14px';
  sticker.style.top='14px';
  sticker.style.width='44px';
  sticker.style.height='44px';
  sticker.style.borderRadius='10px';
  sticker.style.background=m.stickerColor;
  sticker.style.border='1px solid rgba(0,0,0,0.04)';
  sticker.style.display='flex';
  sticker.style.alignItems='center';
  sticker.style.justifyContent='center';
  sticker.innerHTML = `<svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 2l1.9 4.5L19 8l-3.5 2.7L16 16l-4-2-4 2 0.5-5.3L3 8l5.1-1.5z" fill="#fff"/></svg>`;
  card.appendChild(sticker);

  mealsGrid.appendChild(card);

  const input = card.querySelector('input');
  const btn = card.querySelector('.addBtn');
  const list = card.querySelector('.items');

  btn.addEventListener('click', () => {
    const text = input.value.trim();
    if(!text) {
      input.focus();
      flashInput(input);
      return;
    }
    // add item to list
    addItemToList(list, text, m);
    input.value='';
    playPop();
    fireConfettiAt(buttonCenter(btn));
  });

  // allow Enter key
  input.addEventListener('keydown', (e) => {
    if(e.key === 'Enter') btn.click();
  });
});

/* Add list item with sticker + animation */
function addItemToList(list, text, meal) {
  const it = document.createElement('div');
  it.className = 'item';
  it.innerHTML = `<div class="left"><div class="sticker" aria-hidden>
                    <svg width="30" height="30" viewBox="0 0 24 24">
                      <path d="M12 2l1.9 4.5L19 8l-3.5 2.7L16 16l-4-2-4 2 0.5-5.3L3 8l5.1-1.5z" fill="#fff"/>
                    </svg>
                  </div>
                  <div class="txt">${escapeHtml(text)}</div>
                </div>
                <div><button class="remove">✕</button></div>`;
  list.prepend(it);

  // celebration animation on the sticker
  const sticker = it.querySelector('.sticker');
  sticker.style.background = meal.stickerColor;
  sticker.animate([
    { transform:'scale(0.6) rotate(-20deg)', opacity:0.2 },
    { transform:'scale(1.08) rotate(6deg)', opacity:1 },
    { transform:'scale(1) rotate(0deg)' }
  ], { duration:520, easing:'cubic-bezier(.2,.9,.2,1)' });

  // small sparkle / glitter burst
  smallSparklesOver(sticker);

  // remove handling
  it.querySelector('.remove').addEventListener('click', () => {
    it.animate([{opacity:1, transform:'scale(1)'},{opacity:0, transform:'scale(.94)'}], {duration:240}).onfinish = () => it.remove();
  });
}

/* small flash for empty input */
function flashInput(input) {
  const orig = input.style.boxShadow;
  input.style.boxShadow='0 0 0 4px rgba(255,200,200,0.28)';
  setTimeout(()=>input.style.boxShadow=orig,420);
}

/* safe text */
function escapeHtml(s){ return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }

/* ---------- SOUND ---------- */
function playPop(){
  try{
    if(popSound) {
      popSound.currentTime = 0;
      popSound.play().catch(()=>{/* autoplay policy */});
    }
  }catch(e){}
}

/* ---------- Simple confetti particle system on canvas ---------- */
const canvas = document.getElementById('confettiCanvas');
const ctx = canvas.getContext('2d');
let confettiParticles = [];
function resizeCanvas(){ canvas.width = innerWidth; canvas.height = innerHeight; }
resizeCanvas(); addEventListener('resize', resizeCanvas);

function fireConfettiAt(pos) {
  // pos {x,y} in client coords
  const count = 26;
  for(let i=0;i<count;i++){
    confettiParticles.push(new Particle(pos.x, pos.y));
  }
  // ensure animation running
  if(!animRunning){ animRunning=true; requestAnimationFrame(loop); }
}
function buttonCenter(btn){
  const r=btn.getBoundingClientRect();
  return { x: r.left + r.width/2, y: r.top + r.height/2 };
}
class Particle {
  constructor(x,y){
    this.x = x; this.y = y;
    const speed = Math.random()*6 + 2;
    const angle = (Math.PI * (Math.random()*1.4 - 0.7));
    this.vx = Math.cos(angle)*speed;
    this.vy = Math.sin(angle)*speed - (Math.random()*2);
    this.size = Math.random()*6 + 6;
    this.life = Math.random()*60 + 60;
    this.col = `hsl(${Math.floor(Math.random()*60)+180},80%,60%)`; // bluish-cyan palette
    this.tilt = Math.random()*0.4;
  }
  step(){
    this.vy += 0.18; // gravity-ish
    this.x += this.vx;
    this.y += this.vy;
    this.vx *= 0.995;
    this.vy *= 0.995;
    this.life--;
    this.tilt += 0.06;
  }
  draw(ctx){
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.tilt);
    ctx.fillStyle = this.col;
    ctx.fillRect(-this.size/2, -this.size/2, this.size, this.size*0.6);
    ctx.restore();
  }
}
let animRunning = false;
function loop(){
  if(!ctx) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let i = confettiParticles.length-1;i>=0;i--){
    const p = confettiParticles[i];
    p.step();
    p.draw(ctx);
    if(p.life <= 0 || p.y > canvas.height + 100) confettiParticles.splice(i,1);
  }
  if(confettiParticles.length > 0) requestAnimationFrame(loop);
  else animRunning = false;
}

/* ---------- tiny sparkle burst using CSS particles near an element ---------- */
function smallSparklesOver(el){
  const r = el.getBoundingClientRect();
  const container = document.createElement('div');
  container.style.position='fixed';
  container.style.left = (r.left + r.width/2 - 80) + 'px';
  container.style.top = (r.top + r.height/2 - 80) + 'px';
  container.style.width='160px';
  container.style.height='160px';
  container.style.pointerEvents='none';
  container.style.zIndex = 9999;
  document.body.appendChild(container);

  // create some spark divs
  for(let i=0;i<14;i++){
    const s = document.createElement('div');
    s.style.position='absolute';
    s.style.width = s.style.height = (Math.random()*6 + 6) + 'px';
    s.style.left = '50%'; s.style.top = '50%';
    s.style.borderRadius='50%';
    s.style.background = `linear-gradient(90deg, rgba(255,255,255,0.9), rgba(255,255,255,0.2))`;
    s.style.boxShadow = '0 4px 10px rgba(136,207,255,0.6)';
    s.style.transform = `translate(-50%,-50%) scale(${Math.random()*0.95 + 0.2})`;
    container.appendChild(s);

    // animate
    const tx = (Math.random()*160 - 80);
    const ty = (Math.random()*160 - 110);
    s.animate([
      { transform: `translate(-50%,-50%) scale(0.2)`, opacity: 1 },
      { transform: `translate(${tx}px, ${ty}px) scale(1)`, opacity: 0.0 }
    ], { duration: 700 + Math.random()*400, easing: 'cubic-bezier(.2,.9,.2,1)' });
  }

  setTimeout(()=>container.remove(), 1100);
}

/* ---------- small helper to trigger once on page load demo (optional) ---------- */
setTimeout(()=> {
  // gentle demo celebration on load
  const demoBtn = document.querySelector('.addBtn');
  if(demoBtn) {
    // no automatic add, but small glitter banner animation
    document.querySelector('.glitter').animate([{left:'-40%'},{left:'120%'}],{duration:1800});
  }
}, 600);

/* ---------- accessibility: keyboard focus ring (small) ---------- */
document.addEventListener('keydown', (e)=> {
  if(e.key === 'Tab') document.body.classList.add('show-focus');
});

</script>
</body>
</html>